<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="article" content="">
    <meta name="xiongsnebiao" content="">

    <link rel="shortcut icon" href="img/favicon.ico">
    <title>大数据开发</title>

    <!-- Global stylesheets -->
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/devicons/css/devicons.min.css" rel="stylesheet">
    <link href="css/simple-line-icons/css/simple-line-icons.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>

<body id="page-top">
</body>
#!/bin/bash

for i in $(awk '/Failed/{print $(NF-3)}' /var/log/auth.log | grep -v "invalid" | sort |uniq -c |awk '{if($1>10) print $2}')
do
   if [ ! $(grep $i /etc/hosts.deny) ];then
   echo "sshd:$i:deny" >> /etc/hosts.deny
   fi#!/bin/bash

for i in $(awk '/Failed/{print $(NF-3)}' /var/log/auth.log | grep -v "invalid" | sort |uniq -c |awk '{if($1>10) print $2}')
do
   if [ ! $(grep $i /etc/hosts.deny) ];then
   echo "sshd:$i:deny" >> /etc/hosts.deny
   fi
done
>/var/log/auth.log
sshd:118.70.176.124:deny
sshd:106.244.4.235:deny
sshd:113.110.219.34:deny
sshd:183.14.88.32:deny
sshd:61.145.163.227:deny
sshd:116.6.234.146:deny
sshd:218.81.147.87:deny
sshd:83.19.1.242:deny
sshd:60.2.7.230:deny
sshd:34.71.138.230:deny
sshd:223.171.48.74:deny
sshd:113.247.230.245:deny
sshd:221.145.207.244:deny
sshd:218.107.206.59:deny
sshd:172.235.174.160:deny
sshd:172.232.62.65:deny
sshd:172.104.137.173:deny
sshd:172.233.248.66:deny
sshd:172.232.34.50:deny
sshd:172.233.246.26:deny
sshd:172.233.39.16:deny
sshd:85.209.133.91:deny
sshd:45.88.91.237:deny
sshd:192.109.206.13:deny
sshd:172.104.150.12:deny
sshd:195.122.229.82:deny
sshd:210.179.214.225:deny
sshd:218.26.34.93:deny
sshd:193.32.162.52:deny
sshd:171.83.45.159:deny
sshd:192.109.206.254:deny
sshd:154.12.255.141:deny
sshd:171.83.44.90:deny
sshd:39.129.5.21:deny
sshd:59.46.59.164:deny
sshd:59.71.243.12:deny
sshd:103.95.70.130:deny
sshd:115.24.231.85:deny
sshd:115.238.104.220:deny
sshd:49.118.152.17:deny
sshd:107.170.204.145:deny
sshd:121.201.110.207:deny
sshd:222.222.65.162:deny
sshd:59.46.35.11:deny
sshd:113.89.34.206:deny
sshd:113.89.35.3:deny
sshd:45.66.231.223:deny
sshd:210.75.240.6:deny
sshd:116.24.66.176:deny
sshd:116.24.66.207:deny
sshd:101.71.97.177:deny
sshd:142.93.164.200:deny
sshd:171.83.93.47:deny
sshd:171.83.94.23:deny
sshd:221.232.75.67:deny
sshd:59.172.114.196:deny
sshd:60.211.242.34:deny
sshd:111.23.130.7:deny
sshd:61.131.10.140:deny
sshd:80.94.92.136:deny
sshd:183.60.174.253:deny
sshd:45.88.91.154:deny
sshd:60.11.200.10:deny
sshd:223.67.185.42:deny
sshd:172.105.72.207:deny
sshd:111.202.168.18:deny
sshd:111.202.168.21:deny
sshd:45.67.221.206:deny
sshd:113.250.85.115:deny
sshd:180.101.45.111:deny
sshd:213.199.35.75:deny
sshd:36.152.130.114:deny
sshd:113.200.207.131:deny
sshd:62.171.170.127:deny
sshd:139.59.249.45:deny
sshd:172.235.173.123:deny
sshd:94.141.120.23:deny
sshd:45.82.121.43:deny
sshd:64.71.151.84:deny
sshd:114.7.120.174:deny
sshd:58.247.63.246:deny
sshd:106.116.116.36:deny
sshd:222.102.114.78:deny
sshd:1.34.30.29:deny
sshd:46.183.181.126:deny
sshd:123.111.146.235:deny
sshd:223.171.77.102:deny
sshd:58.48.52.242:deny
sshd:183.104.92.210:deny
sshd:139.162.49.41:deny
sshd:175.208.77.246:deny
sshd:223.171.155.196:deny
sshd:114.241.29.231:deny
sshd:95.161.166.254:deny
sshd:121.163.160.224:deny
sshd:58.29.209.178:deny
sshd:180.102.215.138:deny
sshd:58.218.252.82:deny
sshd:115.94.191.19:deny
sshd:113.161.94.184:deny
sshd:118.69.225.160:deny
sshd:38.84.0.36:deny
sshd:121.190.91.224:deny
sshd:162.251.120.109:deny
sshd:71.249.68.115:deny
sshd:1.94.59.194:deny
sshd:140.174.6.52:deny
sshd:120.192.84.218:deny
sshd:121.162.160.21:deny
sshd:2.56.206.95:deny
sshd:106.244.154.172:deny
sshd:223.171.88.73:deny
sshd:223.171.41.247:deny
sshd:121.163.46.177:deny
sshd:119.126.28.185:deny
sshd:58.37.37.195:deny
sshd:106.244.154.170:deny
sshd:154.216.19.132:deny
sshd:61.254.93.70:deny
sshd:45.89.127.86:deny
sshd:188.190.10.132:deny
sshd:220.76.41.74:deny
sshd:110.53.221.190:deny
